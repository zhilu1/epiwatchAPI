(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{163:function(e,t,a){},284:function(e,t,a){e.exports=a(564)},289:function(e,t,a){},564:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),i=(a(289),a(10)),s=a(11),c=a(13),u=a(12),d=a(14),p=a(55),m=a(20),h=(a(163),a(9)),f=a(67),g=a.n(f),b=a(68),y=a.n(b),v=a(43),E=a.n(v),w=a(111),O=a.n(w),j=a(112),C=a.n(j),S=a(39),k=a.n(S),x=a(31),P=a.n(x),A=a(29),N=a.n(A),M=a(159),I=a.n(M),D=a(161),T=a.n(D),_=a(160),L=a.n(_),B=a(158),F=a.n(B),R=a(120),Y=a(5),W=a.n(Y),G=a(27),K=a.n(G),z=a(69),q=a.n(z),$=a(32),U=a.n($),J=a(30),V=a.n(J),H=a(44),X=a.n(H),Z=a(70),Q=a.n(Z),ee=a(26),te=a.n(ee),ae=a(89),ne=a.n(ae),re=a(121),oe=a.n(re),le=a(71),ie=a.n(le),se=a(217),ce=a.n(se),ue=a(53),de=a.n(ue),pe=a(42),me=a.n(pe),he=a(90),fe=a.n(he),ge=a(54),be=a.n(ge);function ye(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return ve(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ve(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw o}}}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={disease_open:!1,syndrome_open:!1},a.handleSyndromeClick=function(){a.setState(function(e){return{syndrome_open:!e.syndrome_open}})},a.handleDiseaseClick=function(){a.setState(function(e){return{disease_open:!e.disease_open}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.disease,o=[],l=ye(t.syndrome);try{for(l.s();!(e=l.n()).done;){var i=e.value;o.push(r.a.createElement(me.a,{key:i},r.a.createElement(be.a,{primary:i})))}}catch(p){l.e(p)}finally{l.f()}var s,c=[],u=ye(n);try{for(u.s();!(s=u.n()).done;){var d=s.value;c.push(r.a.createElement(me.a,{key:d},r.a.createElement(be.a,{primary:d})))}}catch(p){u.e(p)}finally{u.f()}return r.a.createElement(de.a,{component:"nav",subheader:r.a.createElement("li",null),className:a.root},r.a.createElement("li",{key:"section-disease",className:a.listSection},r.a.createElement("ul",{className:a.ul},r.a.createElement(fe.a,null," Diseases "),c)),r.a.createElement("li",{key:"section-syndrome",className:a.listSection},r.a.createElement("ul",{className:a.ul},r.a.createElement(fe.a,null,"Syndrome"),o)))}}]),t}(r.a.Component),we=Object(h.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,marginRight:e.spacing.unit,position:"relative",overflow:"auto",maxWidth:200,backgroundColor:e.palette.background.paper},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0},nested:{}}})(Ee),Oe=a(110),je=a.n(Oe),Ce=a(216),Se=a.n(Ce);function ke(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return xe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xe(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw o}}}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Pe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleExpand=function(){e.setState({expand:!e.state.expand})},e.addList=function(t){var a,n=[],o=ke(t);try{for(o.s();!(a=o.n()).done;){var l=a.value;n.push(r.a.createElement(me.a,{key:l.toString(),className:e.props.item,disableGutters:!0},r.a.createElement(be.a,{primary:l})))}}catch(i){o.e(i)}finally{o.f()}return n},e.state={expand:!1},e.handleExpand=e.handleExpand.bind(Object(m.a)(Object(m.a)(e))),e.addList=e.addList.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.list;return r.a.createElement("div",{className:e.root},r.a.createElement(de.a,{disablePadding:!0,dense:!0,component:"nav",className:e.flexContainer},this.addList(t.slice(0,3)),t.length>3?r.a.createElement(N.a,{onClick:this.handleExpand},this.state.expand?this.addList(t.slice(3)):null,this.state.expand?r.a.createElement(Se.a,null):r.a.createElement(ie.a,null)):null))}}]),t}(n.Component),Ae=Object(h.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},flexContainer:{display:"flex",flexDirection:"row"},item:{maxWidth:10}}})(Pe),Ne=a(33),Me=a.n(Ne),Ie=Object(h.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(E.a),De=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.events;return t.map(function(e){var t=e.date.split(" to ")[0].split("T")[0].replace(/-xx/,"");t=t.replace(/-00/,"-01");var a=Me()(t,"YYYY-MM");return e.date=a.format("YYYY MMMM"),e}),r.a.createElement(P.a,{className:e.root},r.a.createElement(g.a,{className:e.table,padding:"dense"},r.a.createElement(je.a,null,r.a.createElement(k.a,null,r.a.createElement(Ie,null,"event type"),r.a.createElement(Ie,null,"date"),r.a.createElement(Ie,null,"number affected"),r.a.createElement(Ie,null,"regions"))),r.a.createElement(y.a,null,t.map(function(t){return r.a.createElement(k.a,{className:e.row,key:t.type},r.a.createElement(Ie,{component:"th",scope:"row"},t.type),r.a.createElement(Ie,{align:"right"},t.date),r.a.createElement(Ie,{align:"right"},t.number_affected),r.a.createElement(Ie,null,r.a.createElement(Ae,{list:t.location[0].country.concat(t.location[0].location)})))}))))}}]),t}(n.Component),Te=Object(h.withStyles)(function(e){return{root:{marginTop:3*e.spacing.unit,overflowX:"auto"},table:{},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(De),_e=a(218),Le=a.n(_e),Be=a(45),Fe=a(34),Re=a(87),Ye=a.n(Re),We=a(86),Ge=a.n(We),Ke=a(40),ze=a.n(Ke),qe=a(65),$e=a.n(qe),Ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({chartType:e.target.value})},a.renderChart=function(e){var t=a.state.chartType;return"Bar"===t?r.a.createElement(Fe.Bar,{data:e,options:{title:{display:a.props.displayTitle,text:"Distibution Bar Graph By "+a.props.property,fontSixe:25},legend:{display:a.props.displayLegend,position:"right"}}}):"Pie"===t?r.a.createElement(Fe.Pie,{data:e,options:{title:{display:a.props.displayTitle,text:"Distibution Pie Graph By "+a.props.property,fontSixe:25},legend:{display:a.props.displayLegend,position:"right"}}}):"Line"===t?r.a.createElement(Fe.Line,{data:e,options:{title:{display:a.props.displayTitle,text:"Distibution Line Graph By "+a.props.property,fontSixe:25},legend:{display:a.props.displayLegend,position:"right"}}}):"Doughnut"===t?r.a.createElement(Fe.Doughnut,{data:e,options:{title:{display:a.props.displayTitle,text:"Distibution Doughnut Graph By "+a.props.property,fontSixe:25},legend:{display:a.props.displayLegend,position:"right"}}}):"Radar"===t?r.a.createElement(Fe.Radar,{data:e,options:{title:{display:a.props.displayTitle,text:"Distibution Radar Graph By "+a.props.property,fontSixe:25},legend:{display:a.props.displayLegend,position:"right"}}}):void 0},a.state={chartData:e.data,chartType:"Bar"},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.renderChart=a.renderChart.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(K.a,{className:e.card},r.a.createElement(Ge.a,{htmlFor:"filled-age-simple"},"Graph Type"),r.a.createElement($e.a,{value:this.state.chartType,onChange:this.handleChange,input:r.a.createElement(Ye.a,{name:"chartType",id:"filled-chartType-simple"})},r.a.createElement(ze.a,{value:"Bar"},"Bar"),r.a.createElement(ze.a,{value:"Pie"},"Pie"),r.a.createElement(ze.a,{value:"Line"},"Line"),r.a.createElement(ze.a,{value:"Doughnut"},"Doughnut"),r.a.createElement(ze.a,{value:"Radar"},"Radar")),this.renderChart(this.state.chartData))}}]),t}(n.Component);Ue.defaultProps={displayTitle:!0,displayLegend:!0,legendPosition:"right",property:"Kind"};var Je=Object(h.withStyles)(function(e){return{card:{},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"}}})(Ue);function Ve(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return He(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return He(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw o}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Xe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.report,a=new Map,n=Ve(t.reported_events);try{for(n.s();!(e=n.n()).done;){var o=e.value;a.set(o.type,o.number_affected)}}catch(i){n.e(i)}finally{n.f()}var l={labels:Object(Be.a)(a.keys()),datasets:[{label:"Number of People",data:Object(Be.a)(a.values()),backgroundColor:["rgba(255,99,132,0.6)","rgba(54,162,235,0.6)","rgba(0,0,0,0.6)","rgba(162,54,222,0.6)","rgba(110,255,104,0.6)","rgba(15,22,14,0.6)","rgba(32,233,233,0.6)","rgba(233,233,233,0.6)"]}]};return r.a.createElement(Je,{data:l,property:"Disease Type"})}}]),t}(n.Component),Ze=a(66),Qe=a.n(Ze),et=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showChart:!1},a.handleShowChart=function(){a.setState(function(e){return{showChart:!e.showChart}})},a.handleClose=function(){a.setState({showChart:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.report;return r.a.createElement(K.a,{className:t.card},r.a.createElement(U.a,{className:t.content},r.a.createElement(we,{disease:a.disease,syndrome:a.syndrome,comment:a.comment}),r.a.createElement(Te,{events:a.reported_events})),r.a.createElement(X.a,{className:t.actions,disableActionSpacing:!0},r.a.createElement(V.a,{size:"small",className:t.button,"aria-label":"display Charts of card",onClick:this.handleShowChart},r.a.createElement(Le.a,{className:t.leftIcon}),"charts"),r.a.createElement(Qe.a,{open:this.state.showChart,onClose:this.handleClose},r.a.createElement("div",{className:t.paper},r.a.createElement(Xe,{report:a})))))}}]),t}(r.a.Component),tt=Object(h.withStyles)(function(e){return{card:{backgroundColor:ce.a[500]},actions:{display:"flex"},pos:{marginBottom:12},content:{display:"flex",flexGrow:1},inlineItem:{padding:2*e.spacing.unit,textAlign:"center"},leftIcon:{marginRight:e.spacing.unit},paper:{position:"absolute",width:"75%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})(et);function at(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return nt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nt(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw o}}}}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var rt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:!1},a.handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}})},a.redirectToDatasource=function(){window.open(a.props.report.url,"_blank")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.classes,o=a.report,l=o.url,i=[],s=0,c=at(o.reports);try{for(c.s();!(e=c.n()).done;){var u=e.value;s++,i.push(r.a.createElement(tt,{report:u,key:s}))}}catch(d){c.e(d)}finally{c.f()}return r.a.createElement(K.a,{className:n.card},r.a.createElement(q.a,{title:o.headline,subheader:o.date_of_publication}),r.a.createElement(U.a,null,r.a.createElement(te.a,{component:"div"},i)),r.a.createElement(X.a,{className:n.actions,disableActionSpacing:!0},r.a.createElement(V.a,{size:"small",className:n.button,"aria-label":"Link to datasource",onClick:function(){return t.redirectToDatasource(l)}},"datasource",r.a.createElement(oe.a,{className:W()(n.leftIcon,n.iconSmall)})),r.a.createElement(V.a,{className:W()(n.expand,Object(R.a)({},n.expandOpen,this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},"Show Content",r.a.createElement(ie.a,{className:W()(n.leftIcon,n.iconSmall)}))),r.a.createElement(Q.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(U.a,null,r.a.createElement(te.a,{paragraph:!0},o.main_text))))}}]),t}(r.a.Component),ot=Object(h.withStyles)(function(e){return{card:{wdith:"100%"},actions:{display:"flex"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ne.a[500]},button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20}}})(rt),lt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:!1},a.handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}})},a.redirectToDatasource=function(){window.open(a.props.report.url,"_blank")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.report,o=n.url;return r.a.createElement(K.a,{className:a.card},r.a.createElement(q.a,{title:n.title,subheader:n.publishedAt}),r.a.createElement(U.a,null,r.a.createElement(te.a,{paragraph:!0},n.description)),r.a.createElement(X.a,{className:a.actions,disableActionSpacing:!0},r.a.createElement(V.a,{size:"small",className:a.button,"aria-label":"Link to datasource",onClick:function(){return e.redirectToDatasource(o)}},"datasource",r.a.createElement(oe.a,{className:W()(a.leftIcon,a.iconSmall)})),r.a.createElement(V.a,{className:W()(a.expand,Object(R.a)({},a.expandOpen,this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},"Show Content",r.a.createElement(ie.a,{className:W()(a.leftIcon,a.iconSmall)}))),r.a.createElement(Q.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(U.a,null,r.a.createElement(te.a,{paragraph:!0},n.content))))}}]),t}(r.a.Component),it=Object(h.withStyles)(function(e){return{actions:{display:"flex"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:ne.a[500]}}})(lt),st=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,o=e.rowsPerPage,l=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement(N.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===l.direction?r.a.createElement(F.a,null):r.a.createElement(I.a,null)),r.a.createElement(N.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===l.direction?r.a.createElement(L.a,null):r.a.createElement(T.a,null)),r.a.createElement(N.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/o)-1,"aria-label":"Next Page"},"rtl"===l.direction?r.a.createElement(T.a,null):r.a.createElement(L.a,null)),r.a.createElement(N.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/o)-1,"aria-label":"Last Page"},"rtl"===l.direction?r.a.createElement(I.a,null):r.a.createElement(F.a,null)))}}]),t}(r.a.Component),ct=Object(h.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(st);function ut(e,t,a,n){return{id:e,date_of_publication:t,headline:a,url:n}}var dt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={rows:[ut(123,"2011-11-11","example news","http://www.epiwatchnull.me/"),ut(134,"2011-11-11","example news","http://www.epiwatchnull.me/")],page:0,rowsPerPage:5},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.rowsPerPage,o=a.page,l=this.props.rows,i=n-Math.min(n,l.length-o*n);return r.a.createElement(P.a,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(g.a,{className:t.table},r.a.createElement(y.a,null,l.slice(o*n,o*n+n).map(function(t){return r.a.createElement(k.a,{key:t.url},r.a.createElement(E.a,null,"Google"===e.props.dataSource?r.a.createElement(it,{report:t}):r.a.createElement(ot,{report:t})))}),i>0&&r.a.createElement(k.a,{style:{height:48*i}},r.a.createElement(E.a,{colSpan:6}))),r.a.createElement(O.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,{rowsPerPageOptions:[5,10,25],colSpan:5,count:l.length,rowsPerPage:n,page:o,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:ct}))))))}}]),t}(r.a.Component),pt=Object(h.withStyles)(function(e){return{root:{marginTop:3*e.spacing.unit},table:{},tableWrapper:{}}})(dt);a(519);function mt(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return ht(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ht(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw o}}}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ft=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.data,a=new Map,n=mt(t);try{for(n.s();!(e=n.n()).done;){var o,l=mt(e.value.reports);try{for(l.s();!(o=l.n()).done;){var i,s=mt(o.value.reported_events);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.set(c.type,c.number_affected)}}catch(d){s.e(d)}finally{s.f()}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){n.e(d)}finally{n.f()}var u={labels:Object(Be.a)(a.keys()),datasets:[{label:"Number of People",data:Object(Be.a)(a.values()),backgroundColor:["rgba(255,99,132,0.6)","rgba(54,162,235,0.6)","rgba(0,0,0,0.6)","rgba(162,54,222,0.6)","rgba(110,255,104,0.6)","rgba(15,22,14,0.6)","rgba(32,233,233,0.6)","rgba(233,233,233,0.6)"]}]};return r.a.createElement(K.a,null,r.a.createElement(Fe.Bar,{data:u,options:{title:{display:!0,text:"Number of effected people for each type among all reports ",fontSixe:25},legend:{display:!0,position:"right"},plugins:{datalabels:{color:"white",display:function(e){return e.dataset.data[e.dataIndex]>15},font:{weight:"bold"},formatter:Math.round}},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}}))}}]),t}(n.Component),gt=a(72),bt=a(122),yt=a.n(bt),vt=a(219);function Et(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return wt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wt(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw o}}}}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ot={width:"100%",height:"100%"};yt.a.setApiKey("AIzaSyD1JZqf-_X3cJkzgVDA0EeYG8b4sg2A-zU"),yt.a.enableDebug();var jt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},locations:{}},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.addMarker=function(e){for(var t=[],n=0,o=Object.keys(e);n<o.length;n++){var l=o[n];t.push(r.a.createElement(gt.Marker,{onClick:a.onMarkerClick,name:l,position:e[l].postion,death:e[l].death,infected:e[l].infected,hospitalised:e[l].hospitalised,recovered:e[l].recovered,key:l}))}return t},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.data,n={},r=Et(a);try{for(r.s();!(e=r.n()).done;){var o,l=Et(e.value.reports);try{for(l.s();!(o=l.n()).done;){var i,s=Et(o.value.reported_events);try{for(s.s();!(i=s.n()).done;){var c,u=i.value,d=Et(u.location);try{for(d.s();!(c=d.n()).done;){var p=c.value,m={};m[u.type]=u.number_affected;var h,f=Et(p.location.concat(p.country));try{for(f.s();!(h=f.n()).done;){var g=h.value;g in n&&u.type in n[g]?n[g][u.type]+=u.number_affected:n[g]=Object.assign({},m)}}catch(O){f.e(O)}finally{f.f()}}}catch(O){d.e(O)}finally{d.f()}}}catch(O){s.e(O)}finally{s.f()}}}catch(O){l.e(O)}finally{l.f()}}}catch(O){r.e(O)}finally{r.f()}for(var b=[Promise.resolve(3)],y=Object.keys(n),v=function(){var e=w[E],t=JSON.parse(localStorage.getItem(e));if(null!==t)console.log(e),n[e].postion=Object.assign({},t);else{var a=yt.a.fromAddress(e).then(function(t){var a=t.results[0].geometry.location,r=a.lat,o=a.lng;n[e].postion=Object.assign({},{lat:r,lng:o}),localStorage.setItem(e,JSON.stringify({lat:r,lng:o}))},function(e){console.error(e)});b.push(a)}},E=0,w=y;E<w.length;E++)v();Promise.all(b).then(function(){t.setState({locations:n})})}},{key:"render",value:function(){var e;return 0===(e=this.addMarker(this.state.locations)).length?null:(console.log(e),r.a.createElement(vt.a,null,r.a.createElement(gt.Map,{google:this.props.google,zoom:3,style:Ot},e,r.a.createElement(gt.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("h2",null,this.state.selectedPlace.name),r.a.createElement("h4",null,"death: ",this.state.selectedPlace.death),r.a.createElement("h4",null,"infected: ",this.state.selectedPlace.infected),r.a.createElement("h4",null,"hospitalised: ",this.state.selectedPlace.hospitalised),r.a.createElement("h4",null,"recovered: ",this.state.selectedPlace.recovered))))))}}]),t}(n.Component),Ct=Object(gt.GoogleApiWrapper)({apiKey:"AIzaSyD1JZqf-_X3cJkzgVDA0EeYG8b4sg2A-zU",LoadingContainer:function(e){return r.a.createElement("div",null,"Fancy loading container!")}})(jt);function St(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return kt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return kt(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw o}}}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var xt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toRGB=function(e){var t=0;if(0===e.length)return t;for(var a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t),t&=t;for(var n=[0,0,0],r=0;r<3;r++){var o=t>>8*r&255;n[r]=o}return"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2],")")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.data,n=[],o={},l=St(a);try{for(l.s();!(e=l.n()).done;){var i=e.value,s=i.date_of_publication;n.push(s);var c,u=St(i.reports);try{for(u.s();!(c=u.n()).done;){var d,p=St(c.value.reported_events);try{for(p.s();!(d=p.n()).done;){var m=d.value;o[m.type]||(o[m.type]=new Map),o[m.type].set(s,m.number_affected)}}catch(v){p.e(v)}finally{p.f()}}}catch(v){u.e(v)}finally{u.f()}}}catch(v){l.e(v)}finally{l.f()}var h=n,f=[],g=function(e){o.hasOwnProperty(e)&&f.push({label:e,data:Object(Be.a)(o[e].values()),borderColor:n.map(function(){return t.toRGB(e)}),backgroundColor:n.map(function(){return t.toRGB(e)})})};for(var b in o)g(b);var y={labels:h,datasets:f};return r.a.createElement(K.a,null,r.a.createElement(Fe.Line,{data:y,options:{elements:{line:{fill:!1}},title:{display:!0,text:"Number of effected people for each type among all reports in each period of time",fontSixe:25},legend:{display:!0,position:"right"},plugins:{datalabels:{display:!1}},scales:{yAxes:[{stacked:!0}]}}}))}}]),t}(n.Component),Pt=a(229),At=a(220),Nt=a.n(At),Mt=a(222),It=a.n(Mt),Dt=a(223),Tt=a.n(Dt),_t=a(226),Lt=a.n(_t),Bt=a(224),Ft=a.n(Bt),Rt=a(225),Yt=a.n(Rt),Wt=a(113),Gt=a.n(Wt),Kt=a(88),zt=a.n(Kt),qt=a(221),$t=a.n(qt),Ut={success:Nt.a,warning:$t.a,error:It.a,info:Tt.a};var Jt=Object(h.withStyles)(function(e){return{success:{backgroundColor:Ft.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:Yt.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,n=e.message,o=e.onClose,l=e.variant,i=Object(Pt.a)(e,["classes","className","message","onClose","variant"]),s=Ut[l];return r.a.createElement(zt.a,Object.assign({className:W()(t[l],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(s,{className:W()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(N.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(Lt.a,{className:t.icon}))]},i))}),Vt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClose=function(e,t){"clickaway"!==t&&a.props.clearErrMsg()},a.handleClose=a.handleClose.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Gt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.props.open,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(Jt,{onClose:this.handleClose,variant:"error",message:this.props.message})))}}]),t}(r.a.Component),Ht=Object(h.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(Vt),Xt=a(114),Zt=a.n(Xt);function Qt(e){return{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.95em",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(e," transparent")}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.95em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(e," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.95em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(e," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.95em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(e)}}}}var ea=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={arrowRef:null},a.handleArrowRef=function(e){a.setState({arrowRef:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(Zt.a,{title:r.a.createElement(r.a.Fragment,null,this.props.content,r.a.createElement("span",{className:e.arrow,ref:this.handleArrowRef})),classes:{tooltip:e.lightTooltip,popper:e.lightPop,tooltipPlacementLeft:e.bootstrapPlacementLeft,tooltipPlacementRight:e.bootstrapPlacementRight,tooltipPlacementTop:e.bootstrapPlacementTop,tooltipPlacementBottom:e.bootstrapPlacementBottom},PopperProps:{popperOptions:{modifiers:{arrow:{enabled:Boolean(this.state.arrowRef),element:this.state.arrowRef}}}},open:this.props.open,placement:this.props.placement},this.props.children))}}]),t}(r.a.Component),ta=Object(h.withStyles)(function(e){return{button:{margin:e.spacing.unit},lightTooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:20},lightPop:Qt(e.palette.common.white),arrowPopper:Qt(e.palette.grey[700]),arrow:{position:"absolute",fontSize:6,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},bootstrapPopper:Qt(e.palette.common.black),bootstrapTooltip:{backgroundColor:e.palette.common.white},bootstrapPlacementLeft:{margin:"0 20px 0 0"},bootstrapPlacementRight:{margin:"0 0 0 20px"},bootstrapPlacementTop:{margin:"8px 0"},bootstrapPlacementBottom:{margin:"8px 0"},htmlPopper:Qt("#dadde9"),htmlTooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9","& b":{fontWeight:e.typography.fontWeightMedium}}}})(ea),aa=a(115),na=a.n(aa);var ra=Object(h.withStyles)({root:{flexGrow:1}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(na.a,{disableShrink:!0}))}),oa=a(116),la=a.n(oa),ia=a(117),sa=a.n(ia),ca=a(91),ua=a.n(ca),da=a(35),pa=a.n(da),ma=a(227),ha=a.n(ma),fa=(a(547),a(228)),ga=a.n(fa);function ba(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return ya(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ya(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw o}}}}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function va(e){return r.a.createElement(te.a,{component:"div",style:{padding:24}},e.children)}var Ea=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).togglehelper=function(){e.setState({helperMode:!e.state.helperMode})},e.clearErrMsg=function(){e.setState({errorMsg:""})},e.scrollToMyRef=function(){return window.scrollTo(0,e.refToData.current.offsetTop)},e.handleChange=function(t,a){e.setState({articles:[],getData:!1,getGoogleNews:!1,value:a})},e.state={getData:!1,getGoogleNews:!1,articles:[],value:0,keyBox:1,errorMsg:"",loading:!1,helperMode:!1},e.searchInEpiWatch=e.searchInEpiWatch.bind(Object(m.a)(Object(m.a)(e))),e.searchOnGoogleNews=e.searchOnGoogleNews.bind(Object(m.a)(Object(m.a)(e))),e.handleChange=e.handleChange.bind(Object(m.a)(Object(m.a)(e))),e.scrollToMyRef=e.scrollToMyRef.bind(Object(m.a)(Object(m.a)(e))),e.AddKeyterm=e.AddKeyterm.bind(Object(m.a)(Object(m.a)(e))),e.clearErrMsg=e.clearErrMsg.bind(Object(m.a)(Object(m.a)(e))),e.refToData=r.a.createRef(),e.onKeyPress=e.onKeyPress.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"searchInEpiWatch",value:function(e){var t=this;if(13!==e.keyCode){this.setState({getData:!1,getGoogleNews:!1,articles:[],googleNews:[],loading:!0});var a,n=document.getElementById("location").value,r=document.getElementById("key_term").value,o=document.getElementById("start_date").value,l=document.getElementById("end_date").value,i=Me()(o,"YYYY-MM-DD"),s=Me()(l,"YYYY-MM-DD");if(!i.isValid()||!s.isValid())return this.setState({errorMsg:"Correct date format is YYYY-MM-DD, e.g. 2019-03-30",loading:!1}),void e.preventDefault();if(s.isSameOrBefore(i))return this.setState({errorMsg:"The start Date must be ealier than end",loading:!1}),void e.preventDefault();for(var c=1;c<this.state.keyBox;c++)r=r+","+document.getElementById("key"+c).innerText;if(""===o||""===l)return this.setState({errorMsg:"Date format is invaild",loading:!1}),void e.preventDefault();a=""===n?"http://www.epiwatchnull.me/api/articles/?end_date="+l+"T11%3A11%3A11&format=json&keyterms="+r+"&start_date="+o+"T11%3A11%3A11&":"http://www.epiwatchnull.me/api/articles/?end_date="+l+"T11%3A11%3A11&format=json&keyterms="+r+"&start_date="+o+"T11%3A11%3A11&"+(n="location="+n);var u=new Request(a);fetch(u).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){t.setState({getData:!0,articles:e,loading:!1}),t.scrollToMyRef()}).catch(function(e){t.setState({errorMsg:e.message,loading:!1})}),e.preventDefault()}else e.preventDefault()}},{key:"searchOnGoogleNews",value:function(e){var t=this;if(13!==e.keyCode){this.setState({getData:!1,getGoogleNews:!1,googleNews:[],loading:!0});var a=document.getElementById("key_term").value,n=document.getElementById("start_date").value,r=document.getElementById("end_date").value,o=a;if(""===n||""===r||""===a)return this.setState({errorMsg:"please enter start date, end date and key terms",loading:!1}),void e.preventDefault();var l=Me()(n,"YYYY-MM-DD"),i=Me()(r,"YYYY-MM-DD");if(!l.isValid()||!i.isValid())return this.setState({errorMsg:"Correct date format is YYYY-MM-DD, e.g. 2019-03-30",loading:!1}),void e.preventDefault();if(i.isSameOrBefore(l))return this.setState({errorMsg:"The start Date must be ealier than end",loading:!1}),void e.preventDefault();if(l.isSameOrBefore(Me()().subtract(1,"months")))return this.setState({errorMsg:"Sorry, Google API does not provide news a month ago",loading:!1}),void e.preventDefault();var s=new Request("https://newsapi.org/v2/everything?q="+o+"&from="+n+"&to="+r+"&sortBy=popularity&apiKey=8b0a925ba645489383897ddb8c0a67b5");fetch(s).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){t.setState({getGoogleNews:!0,googleNews:e,loading:!1}),t.scrollToMyRef()}).catch(function(e){console.log(e.message),t.setState({errorMsg:e.message,loading:!1})}),e.preventDefault()}else e.preventDefault()}},{key:"onKeyPress",value:function(e){13===e.which&&e.preventDefault()}},{key:"AddKeyterm",value:function(e){if(13===e.keyCode){this.setState({keyBox:this.state.keyBox+1});var t=this.state.keyBox,a=document.createElement("div"),n=document.getElementById("key_term").value;a.innerHTML=n,a.setAttribute("placeholder","Key_term"),a.setAttribute("class","keyterm_tag"),a.setAttribute("name","Location"+t.toString()),a.setAttribute("id","key"+t.toString()),document.getElementById("fooBar").appendChild(a),document.getElementById("key_term").value=""}return!1}},{key:"Reset",value:function(e){return window.location.reload(),!1}},{key:"render",value:function(){var e,t=this.state.articles,a=ba(t);try{for(a.s();!(e=a.n()).done;){var n=e.value,o=Me()(n.date_of_publication.split("T")[0]);n.date_of_publication=o}}catch(s){a.e(s)}finally{a.f()}t.sort(function(e,t){return e.date_of_publication-t.date_of_publication}),t.map(function(e){return e.date_of_publication=e.date_of_publication.format("YYYY-MM-DD")});var l=this.props.classes,i=this.state.value;return r.a.createElement("div",{className:"App"},this.state.loading?r.a.createElement(ra,null):null,r.a.createElement("header",{className:"App-header"},r.a.createElement(ta,{content:"Here is our sincerest Welcome",open:this.state.helperMode,placement:"top"},r.a.createElement("p",null,"WelCome to Disease Watch")),r.a.createElement(ta,{content:"Choose for searching among our WHO articles or google news  ",open:this.state.helperMode,placement:"right"},r.a.createElement("div",{className:l.bar},r.a.createElement(la.a,{position:"static",className:l.bar},r.a.createElement(sa.a,{value:i,onChange:this.handleChange},r.a.createElement(ua.a,{label:"Epi Watch"}),r.a.createElement(ua.a,{label:"Google News"}))))),0===i&&r.a.createElement(va,null,r.a.createElement("form",{onSubmit:this.searchInEpiWatch,onKeyPress:this.onKeyPress,className:"Search-form"},r.a.createElement("span",{id:"fooBar"},"\xa0"),r.a.createElement(ta,{content:"with this field, it will search for reports that include at least one key terms. Press 'Enter' each time enterred a keyterm ",open:this.state.helperMode,placement:"left"},r.a.createElement(pa.a,{id:"key_term",label:"Key Term",InputLabelProps:{className:l.floatingLabelFocusStyle,classes:{root:l.cssLabel,focused:l.cssFocused}},InputProps:{classes:{root:l.cssOutlinedInput,focused:l.cssFocused,notchedOutline:l.notchedOutline,input:l.multilineColor}},className:l.textField,onKeyDown:this.AddKeyterm,placeholder:"e.g. cholera",margin:"normal",variant:"outlined"})),r.a.createElement(ta,{content:"with this field, it will search for reports related to this location",open:this.state.helperMode,placement:"right"},r.a.createElement(pa.a,{id:"location",label:"Location",InputLabelProps:{className:l.floatingLabelFocusStyle,classes:{root:l.cssLabel,focused:l.cssFocused}},InputProps:{classes:{root:l.cssOutlinedInput,focused:l.cssFocused,notchedOutline:l.notchedOutline,input:l.multilineColor}},className:l.textField,placeholder:"e.g. Uganda",margin:"normal",variant:"outlined"})),r.a.createElement(ta,{content:"this field is required, it specifies the earliest date of reports",open:this.state.helperMode,placement:"left"},r.a.createElement(pa.a,{id:"start_date",label:"Start Date",InputLabelProps:{className:l.floatingLabelFocusStyle,classes:{root:l.cssLabel,focused:l.cssFocused}},InputProps:{classes:{root:l.cssOutlinedInput,focused:l.cssFocused,notchedOutline:l.notchedOutline,input:l.multilineColor}},className:l.textField,margin:"normal",variant:"outlined",placeholder:"e.g. 2012-03-30",helperText:"*required",error:!0})),r.a.createElement(ta,{content:"this field is required, it specifies the lastest date of reports",open:this.state.helperMode,placement:"right"},r.a.createElement(pa.a,{id:"end_date",label:"End Date",InputLabelProps:{className:l.floatingLabelFocusStyle,classes:{root:l.cssLabel,focused:l.cssFocused}},InputProps:{classes:{root:l.cssOutlinedInput,focused:l.cssFocused,notchedOutline:l.notchedOutline,input:l.multilineColor}},className:l.textField,margin:"normal",variant:"outlined",placeholder:"e.g. 2019-05-30",helperText:"*required",error:!0})),r.a.createElement("input",{type:"submit",value:"Search in Epi Watch",className:"submit-button"})),r.a.createElement(ta,{content:"Reset button can clear all your inputs at once",open:this.state.helperMode,placement:"left"},r.a.createElement("button",{onClick:this.Reset,className:"reset-button"},"Clear Inputs")),r.a.createElement("button",{onClick:this.togglehelper,className:"reset-button"},"How to use ?")),1===i&&r.a.createElement(va,null,r.a.createElement("form",{onSubmit:this.searchOnGoogleNews,onKeyPress:this.onKeyPress,className:"Search-form"},"*all fields are required",r.a.createElement(ta,{content:"Exactly one key term required",open:this.state.helperMode,placement:"left"},r.a.createElement(pa.a,{id:"key_term",label:"Key Term",InputLabelProps:{className:l.floatingLabelFocusStyle,classes:{root:l.cssLabel,focused:l.cssFocused}},InputProps:{classes:{root:l.cssOutlinedInput,focused:l.cssFocused,notchedOutline:l.notchedOutline,input:l.multilineColor}},className:l.textField,margin:"normal",variant:"outlined",placeholder:"e.g. cholera",helperText:"*required",error:!0})),r.a.createElement(ta,{content:"this field is required, it specifies the earliest date of reports",open:this.state.helperMode,placement:"right"},r.a.createElement(pa.a,{id:"start_date",label:"Start Date",InputLabelProps:{className:l.floatingLabelFocusStyle,classes:{root:l.cssLabel,focused:l.cssFocused}},InputProps:{classes:{root:l.cssOutlinedInput,focused:l.cssFocused,notchedOutline:l.notchedOutline,input:l.multilineColor}},className:l.textField,margin:"normal",variant:"outlined",placeholder:"e.g. 2019-03-30",helperText:"*required",error:!0})),r.a.createElement(ta,{content:"this field is required, it specifies the lastest date of reports",open:this.state.helperMode,placement:"left"},r.a.createElement(pa.a,{id:"end_date",label:"End Date",InputLabelProps:{className:l.floatingLabelFocusStyle,classes:{root:l.cssLabel,focused:l.cssFocused}},InputProps:{classes:{root:l.cssOutlinedInput,focused:l.cssFocused,notchedOutline:l.notchedOutline,input:l.multilineColor}},className:l.textField,margin:"normal",variant:"outlined",placeholder:"e.g. 2019-04-30",helperText:"*required",error:!0})),r.a.createElement("input",{type:"submit",value:"Search in Google News",className:"submit-button"})),r.a.createElement("button",{onClick:this.togglehelper,className:"reset-button"},"How to use ?"))),r.a.createElement("div",{ref:this.refToData},this.state.getData?r.a.createElement(ha.a,{percentage:!0},r.a.createElement("div",null,r.a.createElement(ft,{data:t}),r.a.createElement(xt,{data:t}),r.a.createElement(Ct,{data:t})),r.a.createElement("div",null,r.a.createElement(pt,{rows:t,dataSource:"WHO"}))):null,this.state.getGoogleNews?r.a.createElement(pt,{rows:this.state.googleNews.articles,dataSource:"Google"}):null),r.a.createElement("div",null,r.a.createElement(ga.a,{ContainerClassName:"scroll-up",TransitionClassName:"scroll-up-transition"})),r.a.createElement(Ht,{message:this.state.errorMsg,open:""!==this.state.errorMsg,clearErrMsg:this.clearErrMsg}," "))}}]),t}(n.Component),wa=Object(h.withStyles)(function(e){return{bar:{backgroundColor:"#282c34"},dataBlock:{display:"inline-block",flexGrow:1},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:350,height:60},input:{color:"#FFFFFF"},cssLabel:{"&$cssFocused":{color:"white"}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"white"}},cssFocused:{},notchedOutline:{borderColor:"white !important"},floatingLabelFocusStyle:{color:"white !important"},multilineColor:{color:"white"}}})(Ea),Oa=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(wa,null)}}]),t}(n.Component),ja=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.c,{history:p.d},r.a.createElement(p.b,{path:"/",component:Oa},r.a.createElement(p.a,{component:wa})),r.a.createElement(p.b,{path:"MainPage",component:wa}),r.a.createElement(p.b,{path:"Maptest",component:Ct}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ja,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[284,1,2]]]);
//# sourceMappingURL=main.3ea05b08.chunk.js.map